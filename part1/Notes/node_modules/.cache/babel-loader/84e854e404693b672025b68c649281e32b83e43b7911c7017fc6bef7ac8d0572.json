{"ast":null,"code":"'use strict';\n\nconst Action = require('./Action');\nclass GuildEmojisUpdateAction extends Action {\n  handle(data) {\n    const guild = this.client.guilds.cache.get(data.guild_id);\n    if (!guild || !guild.emojis) return;\n    const deletions = new Map(guild.emojis.cache);\n    for (const emoji of data.emojis) {\n      // Determine type of emoji event\n      const cachedEmoji = guild.emojis.cache.get(emoji.id);\n      if (cachedEmoji) {\n        deletions.delete(emoji.id);\n        if (!cachedEmoji.equals(emoji)) {\n          // Emoji updated\n          this.client.actions.GuildEmojiUpdate.handle(cachedEmoji, emoji);\n        }\n      } else {\n        // Emoji added\n        this.client.actions.GuildEmojiCreate.handle(guild, emoji);\n      }\n    }\n    for (const emoji of deletions.values()) {\n      // Emoji deleted\n      this.client.actions.GuildEmojiDelete.handle(emoji);\n    }\n  }\n}\nmodule.exports = GuildEmojisUpdateAction;","map":{"version":3,"names":["Action","require","GuildEmojisUpdateAction","handle","data","guild","client","guilds","cache","get","guild_id","emojis","deletions","Map","emoji","cachedEmoji","id","delete","equals","actions","GuildEmojiUpdate","GuildEmojiCreate","values","GuildEmojiDelete","module","exports"],"sources":["/Users/jessegill/node_modules/discord.js/src/client/actions/GuildEmojisUpdate.js"],"sourcesContent":["'use strict';\n\nconst Action = require('./Action');\n\nclass GuildEmojisUpdateAction extends Action {\n  handle(data) {\n    const guild = this.client.guilds.cache.get(data.guild_id);\n    if (!guild || !guild.emojis) return;\n\n    const deletions = new Map(guild.emojis.cache);\n\n    for (const emoji of data.emojis) {\n      // Determine type of emoji event\n      const cachedEmoji = guild.emojis.cache.get(emoji.id);\n      if (cachedEmoji) {\n        deletions.delete(emoji.id);\n        if (!cachedEmoji.equals(emoji)) {\n          // Emoji updated\n          this.client.actions.GuildEmojiUpdate.handle(cachedEmoji, emoji);\n        }\n      } else {\n        // Emoji added\n        this.client.actions.GuildEmojiCreate.handle(guild, emoji);\n      }\n    }\n\n    for (const emoji of deletions.values()) {\n      // Emoji deleted\n      this.client.actions.GuildEmojiDelete.handle(emoji);\n    }\n  }\n}\n\nmodule.exports = GuildEmojisUpdateAction;\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,MAAM,GAAGC,OAAO,CAAC,UAAU,CAAC;AAElC,MAAMC,uBAAuB,SAASF,MAAM,CAAC;EAC3CG,MAAM,CAACC,IAAI,EAAE;IACX,MAAMC,KAAK,GAAG,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,KAAK,CAACC,GAAG,CAACL,IAAI,CAACM,QAAQ,CAAC;IACzD,IAAI,CAACL,KAAK,IAAI,CAACA,KAAK,CAACM,MAAM,EAAE;IAE7B,MAAMC,SAAS,GAAG,IAAIC,GAAG,CAACR,KAAK,CAACM,MAAM,CAACH,KAAK,CAAC;IAE7C,KAAK,MAAMM,KAAK,IAAIV,IAAI,CAACO,MAAM,EAAE;MAC/B;MACA,MAAMI,WAAW,GAAGV,KAAK,CAACM,MAAM,CAACH,KAAK,CAACC,GAAG,CAACK,KAAK,CAACE,EAAE,CAAC;MACpD,IAAID,WAAW,EAAE;QACfH,SAAS,CAACK,MAAM,CAACH,KAAK,CAACE,EAAE,CAAC;QAC1B,IAAI,CAACD,WAAW,CAACG,MAAM,CAACJ,KAAK,CAAC,EAAE;UAC9B;UACA,IAAI,CAACR,MAAM,CAACa,OAAO,CAACC,gBAAgB,CAACjB,MAAM,CAACY,WAAW,EAAED,KAAK,CAAC;QACjE;MACF,CAAC,MAAM;QACL;QACA,IAAI,CAACR,MAAM,CAACa,OAAO,CAACE,gBAAgB,CAAClB,MAAM,CAACE,KAAK,EAAES,KAAK,CAAC;MAC3D;IACF;IAEA,KAAK,MAAMA,KAAK,IAAIF,SAAS,CAACU,MAAM,EAAE,EAAE;MACtC;MACA,IAAI,CAAChB,MAAM,CAACa,OAAO,CAACI,gBAAgB,CAACpB,MAAM,CAACW,KAAK,CAAC;IACpD;EACF;AACF;AAEAU,MAAM,CAACC,OAAO,GAAGvB,uBAAuB"},"metadata":{},"sourceType":"script","externalDependencies":[]}